#import "../../../src/article.typ": *
#show: article.with(
  title: [ פתרון מטלה 00 --- תורת ההסתברות 1, 80420 ],
  signature: [#align(center)[#image("../../../src/duck.png", width: 30%, fit: "contain")]],
)

#show regex("\p{Hebrew}.+"): it => text(
  dir: rtl,
  font: "Libertinus Serif",
  lang: "he",
)[#it] // Dark Magic: https://github.com/typst/typst/issues/3695
#set math.cases(gap: 1em)

#question()
תהיי $S$ קבוצה של אינדקסים ותהיינה $(A_alpha)_(alpha in S)$ קבוצות.

#subquestion()
נוכיח את הזהות
$ union.big_(alpha in S) A_alpha^c = (inter.big_(alpha in S) A_alpha)^c $

#proof[
  יהי $x in union.big_(alpha in S) A_alpha^c$, כלומר קיים (לפחות אחד) $alpha_i in S$ כך ש־$x in A_(alpha_i)^c$.\
  מהגדרת המשלים זה אומר ש־$x in.not A_(alpha_i)$, כלומר $x in.not inter.big_(alpha in S) A_alpha$ ולכן מהגדרת המשלים $x in (inter.big_(alpha in S) A_alpha)^c$.\
  זה מביא לנו את ההכלה $subset.eq$, ונוכיח כעת את ההכלה $supset.eq$:\
  יהי $y in (inter.big_(alpha in S) A_alpha)^c$, כלומר מהגדרת המשלים $y in.not inter.big_(alpha in S) A_alpha$.\
  מהגדרת החיתוך זה אומר שקיים $alpha_i in S$ כך ש־$y in.not A_(alpha_i)$ ולכן $y in A_(alpha_i)^c$ והיות ו־$alpha_i in S$ נקבל $y in union.big_(alpha in S) A_alpha^c$.\
  מצאנו הכלה דו־כיוונית ולכן קיבלנו שיוויון.
]

#subquestion()
נוכיח את הזהות
$ inter.big_(alpha in S) A_alpha^c = (union.big_(alpha in S) A_alpha)^c $

#proof[
  יהי $x in inter.big_(alpha in S) A_alpha^c$ ולכן לכל $alpha in S$ מתקיים $x in A_alpha^c$ ומהגדרת המשלים, $x in.not A_alpha$ לכל $alpha in S$, כלומר $x in.not union.big_(alpha in S) A_alpha$ ומהגדרת המשלים, $x in (union.big_(alpha in S) A_alpha)^c$.\
  זה מביא לנו את ההכלה $subset.eq$ ונוכיח כעת את ההכלה $supset.eq$:\
  יהי $y in (union.big_(alpha in S) A_alpha)^c$, מהגדרת המשלים זה אומר ש־$y in.not union.big_(alpha in S) A_alpha$ ומהגדרת האיחוד זה אומר שלכל $alpha in S$, $y in.not A_alpha$ ולכן מהגדרת המשלים זה אומר שלכל $alpha in S$ מתקיים $y in A_alpha^c$ ומהגדרת החיתוך זה אומר ש־$y in inter.big_(alpha in S) A_alpha^c$.\
  מצאנו הכלה דו־כיוונית ולכן קיבלנו שיוויון.
]

#question()
תהיי $(A_i)_(i in NN)$ סדרת קבוצות סופיות.

#subquestion()
נוכיח את הטענה שלכל $n in NN$, מתקיים $abs(union.big_(i=1)^n A_i) <= sum_(i=1)^n abs(A_i)$.

#proof[
  נוכיח באינדוקציה על $n$, עבור $n=1$ זה המקרה הטריוויאלי ועבור בסיס האינדוקציה נראה עבור $n=2$.\
  תהיינה $A_1, A_2$ קבוצות סופיות. \
  אם $A_1 inter A_2 = emptyset$ נקבל מהגדרת האיחוד שמתקיים $abs(A_1 union A_2) = abs(A_1)+A_2$.\
  אם $A_1 inter A_2 != emptyset$ אז נגדיר $A_3 = A_1 without A_2$ ולכן $abs(A_3)<abs(A_1)$ (מהגדרה) ו־$A_3 inter A_2 = emptyset$ ולכן
  $ abs(A_3 + A_2) =_((star)) abs(A_3) + abs(A_2) < abs(A_1) + abs(A_2) $
  כאשר $(star)$ נובע מהמקרה של הזרות.\
  מתקיים $A_3 union A_2 = A_1 union A_2$ ולכן $abs(A_1 union A_2) < abs(A_1) + abs(A_2)$.\
  נניח שהטענה נכונה עבור $k in NN$, כלומר מתקיים $abs(union.big_(i=1)^k A_i) <= sum_(i=1)^k abs(A_i)$ ונרצה להראות עבור המקרה של $k+1$, כלומר נרצה להראות שמתקיים
  $ abs(union.big_(i=1)^(k+1) A_i) <= sum_(i=1)^k+1 abs(A_i) $
  נשים לב שמתקיים
  $ union.big_(i=1)^(k+1) A_i = (union.big_(i=1)^k A_i) union A_(k+1) $
  ואם נגדיר $B = union.big_(i=1)^k A_i$, מבסיס האינדוקציה אנחנו כבר יודעים שמתקיים
  $
    abs(union.big_(i=1)^(k+1) A_i) = abs(B union A_(k+1)) <= abs(B) + abs(A_(k+1)) <=_("הנחת האינדוקציה") sum_(i=1)^k abs(A_i) + abs(A_(k+1)) = sum_(i=1)^(k+1) abs(A_i)
  $
  הערה: זה כמובן גם מתיישר עם מה שמופיע בתרגול 00 על נוסחת ההכלה וההפרדה.
]

#subquestion()
נפריך את הטענה שלכל $n in NN$, אם מתקיים $inter_(i=1)^n A_i = emptyset$ אז $abs(union.big_(i=1)^n A_i) = sum_(i=1)^n abs(A_i)$.

#proof[
  בתרגול ראינו את נוסחת ההכלה וההפרדה עבור $n=3$, ניזכר
  $
    abs(A_1 union A_2 union A_3) = abs(A_1) + abs(A_2) + abs(A_3) - abs(A_1 inter A_2) - abs(A_1 inter A_3) - abs(A_2 inter A_2) + abs(A_1 inter A_2 inter A_3)
  $
  תחת ההנחה שלנו, אנחנו יודעים שהמחובר האחרון הוא $0$ וכדי שיהיה שיוויון בין $abs(A_1 union A_2 union A_3)$ לבין $sum_(i=1)^3 abs(A_i)$ אנחנו צריכים שגם כל חיתוכי הביניים סכומם יהיה $0$, אבל זה לא קורה בהכרח, נגדיר עבור $n=3$ את הקבוצות $ A_1 = {1,2}, A_2 = {2,3}, A_3 = {3,4} $  אכן מתקיים $A_1 inter A_2 inter A_3 = emptyset$.\
  מנוסחת ההכלה וההדחה וחישוב ישיר נקבל אם כך
  $ abs(A_1 union A_2 union A_3) = 4 != 6 = abs(A_1) + abs(A_2) + abs(A_3) $
]

#question()
יהיו $n, k in NN$.

#subquestion()
נקבע כמה סדרות באורך $k$ של מספרים בין $1$ ל־$n$ יש שמכילות את $1$ לפחות פעם אחת.

#solution[
  היות וסדרות נבדלות ביניהן לפי סדר המופעים, אנחנו מדברים על בעיית המנייה הראשונה – עם חשיבות לסדר ועם חזרות, כלומר יש $n^k$ סדרות שונות.\
  אנחנו רוצים סדרות שמכילות לכל הפחות פעם אחת את הספרה $1$ ולכן נסתכל על המשלים – מה מספר הסדרות ש־$1$ לא מופיע בהן, על־כן יש $(n-1)^k$ סדרות כאלו ובסך־הכל מספר הסדרות הרצוי הוא $n^k-(n-1)^k$.
]

#subquestion()
נקבע כמה סדרות באורך $k$ של מספרים בין $1$ ל־$n$ יש שמכילות את $1$ בידיוק פעם אחת.

#solution[
  יש לנו $k$ אפשרויות שונות לבחור את המיקום של $1$ ולאחר מכן עלינו למקם $n-1$ מספרים $k-1$ פעמים ($k-1$ כי כבר מיקמנו את $1$) ולכן מספר האפשרויות יהיה בידיוק $k(n-1)^(k-1)$.
]

#question()
נתונים $13$ נשים ו־$7$ גברים. נקבע מה מספר האפשרויות לבחירת $5$ נשים ו־$5$ גברים והתאמתם בזוגות שוני־מין.

#solution[
  החלק הראשון הוא בעיית המנייה השלישית – ללא חשיבות לסדר וללא חזרות, ולכן מספר הדרכים לבחור $5$ נשים מ-$13$ נשים יהיה
  $
    binom(13, 5) = (13!)/(5!(13-5)!) = (13!)/(5!8!) = (cancel(1 dot.op 2 dot.op 3 dot.op 4 dot.op 5, stroke: #(yellow)) dot.op cancel(6, stroke: #(red)) dot.op cancel(7 dot.op 8, stroke: #(green)) dot.op 9 dot.op cancel(10, stroke: #(blue)) dot.op 11 dot.op cancel(12, stroke: #(blue)) dot.op 13)/(cancel(1 dot.op 2 dot.op 3 dot.op 4 dot.op 5, stroke: #(yellow)) dot.op cancel(1 dot.op 2 dot.op 3, stroke: #(red)) dot.op cancel(4 dot.op 5 dot.op 6, stroke: #(blue)) dot.op cancel(7 dot.op 8, stroke: #(green)) ) = 9 dot.op 11 dot.op 13 = 1287
  $
  באופן דומה עבור מספר הדרכים לבחור $5$ גברים מתוך $7$ גברים יהיה
  $
    binom(7, 5) = (7!)/(5!(7-5)!) = (7!)/(5!2!) = (cancel(1 dot.op 2 dot.op 3 dot.op 4 dot.op 5, stroke: #(yellow)) dot.op cancel(6, stroke: #(red)) dot.op 7)/(cancel(1 dot.op 2 dot.op 3 dot.op 4 dot.op 5, stroke: #(yellow)) dot.op 1 dot.op cancel(2, stroke: #red)) = 3 dot.op 7 = 21
  $
  הבחירות האלו כמובן זרות ולכן מספר האפשרויות לבחור גם וגם היא מכפלה שלהם, ולכן מספר הדרכים הכולל לבחור את חמשת הנשים והגברים יהיה $binom(13, 5) dot.op binom(7, 5) = 1287 dot.op 21 = 27027$.\
  כעת, אנחנו צריכים לצוות אותם לזוגות שוני־מין: האישה הראשונה יכולה להיות מצוות לאחד מחמשת הגברים, השנייה יכולה להיות מצוות לאחד מארבעת הגברים וכן הלאה, בעצם מספר התמורות על חמישה איברים, שזה $5! = 120$.\
  מספר הסידורים האפשרי לשאלה יהיה אם־כך מכפלת כל הסידורים שמצאנו
  $ 27027 dot.op 120 = 3243240 $
]

#question()
עבור $n, k in NN$ נוכיח קומבינטורית את הנוסחה
$ sum_(j=0)^k binom(j+n-1, j) = binom(k+n, k) $

#proof[
  ראשית, ניזכר תחילה בסימטרייה סביב האמצע
  $ binom(n, k) = (n!)/(k!(n-k)!) = (n!)/((n-k)!k!) = binom(n, n-k) $
  בצד ימין של הנוסחה הקומבינטורית אנחנו שואלים בכמה דרכים ניתן לבחור $k$ איברים מתוך $n+k$ איברים כאשר הסדר לא משנה וללא חזרות, כלומר כמה תתי־קבוצות בגודל $k$ יש לקבוצה בגדול $n+k$.\
  נבחן את הצד השמאלי של השיוויון; נבחין שמתקיים $binom(j+n-1, j) = binom(j+n-1, n-1)$ (מהסימטרייה סביב האמצע), כלומר זאת בעיית המנייה הרביעית: מספר האפשרויות לבחור עם חזרות וללא חשיבות לסדר.\
  כלומר, זהו מספר הפתרונות השלמים האי־שליליים למשוואה  $x_1 + dots.h.c + x_n =j$ או מספר הדרכים לחלק $j$ כדורים זהים ל־$n$ מגירות שונות.\
  הסכימה היא על מספר האפשרויות לחלוקה של עד $k$ כדורים שונים, כלומר אם נחזור לפורמט של המשוואות זה שקול ללהגיד שחלוקה של עד $k$ כדורים זהים ל־$n$ מגירות
  $ x_1 + dots.h.c + x_n <= k, space x_i >=0 $
  נרצה להפוך את האי־שיוויון לשיוויון ולכן נגדיר
  $ x_(n+1) = k-(x_1 + dots.h.c + x_n) $
  ולכן $x_(n+1)>=0$ (כי יש שם לכל היותר $k$ כדורים) ונקבל $x_1 + dots.h.c + x_n + x_(n+1) = k$ ולפי בעיית המנייה הרביעית מספר הפתרונות האפשריים למשוואה הזאת יהיו
  $ binom(k+(n+1)-1, k) = binom(k+n, k) $
  שזה בידיוק אגף ימין.


]

#question()
#subquestion()
נחשב בכמה דרכים יכולים $8$ ילדים לבחור כל אחד שתי חיות אהובות מרשימה של $5$ חיות?

#solution[
  כל ילד צריך לבחור שתי חיות (שונות זו מזו) כך שאין חשיבות לסדר הבחירה, אך לא ניתן לבחור פעמיים את אותה החיה ולכן זו בעיית המנייה השלישית – ללא חזרות וללא חשיבות לסדר.\
  אם כך, מספר האפשרויות לכל ילד יהיה $ binom(5, 2) = (5!)/(2!(5-2)!) = (5!)/(2!3!) = (1 dot.op 2 dot.op 3 dot.op 4 dot.op 5)/(1 dot.op 2 dot.op 1 dot.op 2 dot.op 3) = (5 dot.op 4)/2 = 10 $
  יש לנו $8$ ילדים, וכל ילד לא מושפע מהבחירה של הילד לפניו (עם חזרות בבחירה של החיות) ויש חשיבות לסדר, אז זו בעיית המנייה הראשונה, ולכן בסך־הכל מספר הדרכים יהיה $10^8 = 100,000,000$.
]

#subquestion()
נחשב כמה דרכים יש לעשות את סעיף א' אם אסור לשני ילדים לבחור את אותו צירוף חיות.

#proof[
  בסעיף הקודם ראיינו שיש $10$ צירופים אפשריים לזוגות ואנחנו צריכים שכל בחירה תהיה חד־חד ערכית וזה בעצם מהווה לנו כתמורה:\
  באופן שקול, זה מספר הדרכים לסדר $8$ זוגות חד־חד ערכיים מתוך $10$ אפשרויות וזו בעצם בעיית המנייה השנייה – ללא חזרות, עם חשיבות לסדר, כלומר עבור $n=10$ ו־$k=8$ נקבל שמספר האפשרויות היינו
  $ (10!)/((10-8)!) = (product_(i=1)^10 i)/2 = product_(i=3)^10 i = 1814400 $
]
